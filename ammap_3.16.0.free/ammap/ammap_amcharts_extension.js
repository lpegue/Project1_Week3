(function(){var f=window.AmCharts;f.AmMap=f.Class({inherits:f.AmChart,construct:function(a){this.cname="AmMap";this.type="map";this.theme=a;this.svgNotSupported="This browser doesn't support SVG. Use Chrome, Firefox, Internet Explorer 9 or later.";this.createEvents("rollOverMapObject","rollOutMapObject","clickMapObject","selectedObjectChanged","homeButtonClicked","zoomCompleted","dragCompleted","positionChanged","writeDevInfo","click");this.zoomDuration=1;this.zoomControl=new f.ZoomControl(a);this.fitMapToContainer=
!0;this.mouseWheelZoomEnabled=this.backgroundZoomsToTop=!1;this.allowClickOnSelectedObject=this.useHandCursorOnClickableOjects=this.showBalloonOnSelectedObject=!0;this.showObjectsAfterZoom=this.wheelBusy=!1;this.zoomOnDoubleClick=this.useObjectColorForBalloon=!0;this.allowMultipleDescriptionWindows=!1;this.dragMap=this.centerMap=this.linesAboveImages=!0;this.colorSteps=5;this.showAreasInList=!0;this.showLinesInList=this.showImagesInList=!1;this.areasProcessor=new f.AreasProcessor(this);this.areasSettings=
new f.AreasSettings(a);this.imagesProcessor=new f.ImagesProcessor(this);this.imagesSettings=new f.ImagesSettings(a);this.linesProcessor=new f.LinesProcessor(this);this.linesSettings=new f.LinesSettings(a);this.initialTouchZoom=1;this.showDescriptionOnHover=!1;f.AmMap.base.construct.call(this,a);this.creditsPosition="bottom-left";this.product="ammap";this.areasClasses={};f.applyTheme(this,a,this.cname)},initChart:function(){this.zoomInstantly=!0;var a=this.container;this.panRequired=!0;if(this.sizeChanged&&
f.hasSVG&&this.chartCreated){this.freeLabelsSet&&this.freeLabelsSet.remove();this.freeLabelsSet=a.set();this.container.setSize(this.realWidth,this.realHeight);this.resizeMap();this.drawBackground();this.redrawLabels();this.drawTitles();this.processObjects();this.rescaleObjects();this.zoomControl.init(this,a);this.drawBg();var b=this.smallMap;b&&b.init(this,a);(b=this.valueLegend)&&b.init(this,a);this.sizeChanged=!1;this.zoomToLongLat(this.zLevelTemp,this.zLongTemp,this.zLatTemp,!0);this.previousWidth=
this.realWidth;this.previousHeight=this.realHeight;this.updateSmallMap();this.linkSet.toFront();this.zoomControl.update&&this.zoomControl.update()}else(f.AmMap.base.initChart.call(this),f.hasSVG)?(this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,a=this.legend)&&(a.position="absolute",a.invalidateSize()),this.createDescriptionsDiv(),this.svgAreas=[],this.svgAreasById={},this.drawChart()):(this.chartDiv.style.textAlign="",this.chartDiv.setAttribute("class","ammapAlert"),
this.chartDiv.innerHTML=this.svgNotSupported,this.fire("failed",{type:"failed",chart:this}))},storeTemp:function(){var a=this.zoomLongitude();isNaN(a)||(this.zLongTemp=a);a=this.zoomLatitude();isNaN(a)||(this.zLatTemp=a);a=this.zoomLevel();isNaN(a)||(this.zLevelTemp=a)},invalidateSize:function(){this.storeTemp();f.AmMap.base.invalidateSize.call(this)},validateSize:function(){f.hasSVG&&0<this.realWidth&&0<this.realHeight&&this.storeTemp();f.AmMap.base.validateSize.call(this)},handleWheelReal:function(a){if(!this.wheelBusy){this.stopAnimation();
var b=this.zoomLevel(),c=this.zoomControl,d=c.zoomFactor;this.wheelBusy=!0;a=f.fitToBounds(0<a?b*d:b/d,c.minZoomLevel,c.maxZoomLevel);d=this.mouseX/this.mapWidth;c=this.mouseY/this.mapHeight;d=(this.zoomX()-d)*(a/b)+d;b=(this.zoomY()-c)*(a/b)+c;this.zoomTo(a,d,b)}},addLegend:function(a,b){a.position="absolute";a.autoMargins=!1;a.valueWidth=0;a.switchable=!1;f.AmMap.base.addLegend.call(this,a,b);void 0===a.enabled&&(a.enabled=!0);return a},handleLegendEvent:function(){},createDescriptionsDiv:function(){if(!this.descriptionsDiv){var a=
document.createElement("div"),b=a.style;b.position="absolute";b.left="0px";b.top="0px";this.descriptionsDiv=a}this.containerDiv.appendChild(this.descriptionsDiv)},drawChart:function(){f.AmMap.base.drawChart.call(this);var a=this.dataProvider;this.dataProvider=a=f.extend(a,new f.MapData,!0);this.areasSettings=f.processObject(this.areasSettings,f.AreasSettings,this.theme);this.imagesSettings=f.processObject(this.imagesSettings,f.ImagesSettings,this.theme);this.linesSettings=f.processObject(this.linesSettings,
f.LinesSettings,this.theme);var b=this.container;this.mapContainer&&this.mapContainer.remove();this.mapContainer=b.set();this.graphsSet.push(this.mapContainer);var c;a.map&&(c=f.maps[a.map]);a.mapVar&&(c=a.mapVar);c?(this.svgData=c.svg,this.getBounds(),this.buildEverything()):(a=a.mapURL)&&this.loadXml(a);this.balloonsSet.toFront()},drawBg:function(){var a=this;a.background.click(function(){a.handleBackgroundClick()})},buildEverything:function(){if(0<this.realWidth&&0<this.realHeight){var a=this.container;
this.zoomControl=f.processObject(this.zoomControl,f.ZoomControl,this.theme);this.zoomControl.init(this,a);this.drawBg();this.buildSVGMap();var b=this.smallMap;b&&(b=this.smallMap=f.processObject(this.smallMap,f.SmallMap,this.theme),b.init(this,a));b=this.dataProvider;isNaN(b.zoomX)&&isNaN(b.zoomY)&&isNaN(b.zoomLatitude)&&isNaN(b.zoomLongitude)&&(this.centerMap?(b.zoomLatitude=this.coordinateToLatitude(this.mapHeight/2),b.zoomLongitude=this.coordinateToLongitude(this.mapWidth/2)):(b.zoomX=0,b.zoomY=
0),this.zoomInstantly=!0);this.selectObject(this.dataProvider);this.processAreas();if(b=this.valueLegend)this.valueLegend=b=f.processObject(b,f.ValueLegend,this.theme),b.init(this,a);this.objectList&&(a=this.objectList=f.processObject(this.objectList,f.ObjectList))&&(this.clearObjectList(),a.init(this));this.dispDUpd();this.linkSet.toFront()}else this.cleanChart()},hideGroup:function(a){this.showHideGroup(a,!1)},showGroup:function(a){this.showHideGroup(a,!0)},showHideGroup:function(a,b){this.showHideReal(this.imagesProcessor.allObjects,
a,b);this.showHideReal(this.areasProcessor.allObjects,a,b);this.showHideReal(this.linesProcessor.allObjects,a,b)},showHideReal:function(a,b,c){var d;for(d=0;d<a.length;d++){var e=a[d];if(e.groupId==b){var g=e.displayObject;g&&(c?(e.hidden=!1,g.show()):(e.hidden=!0,g.hide()))}}},update:function(){f.hasSVG&&(f.AmMap.base.update.call(this),this.zoomControl&&this.zoomControl.update&&this.zoomControl.update())},animateMap:function(){var a=this;a.totalFrames=1E3*a.zoomDuration/f.updateRate;a.totalFrames+=
1;a.frame=0;a.tweenPercent=0;a.balloon.hide(0);setTimeout(function(){a.updateSize.call(a)},f.updateRate)},updateSize:function(){var a=this,b=a.totalFrames;a.preventHover=!0;a.frame<=b?(a.frame++,b=f.easeOutSine(0,a.frame,0,1,b),1<=b?(b=1,a.preventHover=!1,a.wheelBusy=!1):setTimeout(function(){a.updateSize.call(a)},f.updateRate),.8<b&&(a.preventHover=!1)):(b=1,a.preventHover=!1,a.wheelBusy=!1);a.tweenPercent=b;a.rescaleMapAndObjects()},rescaleMapAndObjects:function(){var a=this.initialScale,b=this.initialX,
c=this.initialY,d=this.tweenPercent,a=a+(this.finalScale-a)*d;this.mapContainer.translate(b+(this.finalX-b)*d,c+(this.finalY-c)*d,a,!0);if(this.areasSettings.adjustOutlineThickness){for(var b=this.svgAreas,e=0;e<b.length;e++)(c=b[e])&&c.setAttr("stroke-width",this.areasSettings.outlineThickness/a);for(e=0;e<b.length;e++){var c=b[e],g=c.displayObject;g&&g.setAttr("stroke-width",c.outlineThicknessReal/a)}}this.rescaleObjects();this.positionChanged();this.updateSmallMap();1==d&&(d={type:"zoomCompleted",
chart:this},this.fire(d.type,d))},updateSmallMap:function(){this.smallMap&&this.smallMap.update()},rescaleObjects:function(){var a=this.mapContainer.scale,b=this.imagesProcessor.objectsToResize,c;for(c=0;c<b.length;c++){var d=b[c].image;d.translate(d.x,d.y,b[c].scale/a,!0)}b=this.imagesProcessor.labelsToReposition;for(c=0;c<b.length;c++)d=b[c],d.imageLabel&&this.imagesProcessor.positionLabel(d.imageLabel,d,d.labelPositionReal);b=this.linesProcessor;if(d=b.linesToResize)for(c=0;c<d.length;c++){var e=
d[c];e.line.setAttr("stroke-width",e.thickness/a)}b=b.objectsToResize;for(c=0;c<b.length;c++)d=b[c],d.translate(d.x,d.y,1/a,!0)},handleTouchEnd:function(a){this.initialDistance=NaN;this.mouseIsDown=this.isDragging=!1;f.AmMap.base.handleTouchEnd.call(this,a)},handleMouseDown:function(a){f.resetMouseOver();this.mouseIsDown=this.mouseIsOver=!0;this.balloon.hide(0);a&&this.mouseIsOver&&a.preventDefault&&this.panEventsEnabled&&a.preventDefault();if(this.chartCreated&&!this.preventHover&&(this.initialTouchZoom=
this.zoomLevel(),this.dragMap&&(this.stopAnimation(),this.mapContainerClickX=this.mapContainer.x,this.mapContainerClickY=this.mapContainer.y),a||(a=window.event),a.shiftKey&&!0===this.developerMode&&this.getDevInfo(),a&&a.touches)){var b=this.mouseX,c=this.mouseY,d=a.touches.item(1);d&&this.panEventsEnabled&&this.boundingRect&&(a=d.clientX-this.boundingRect.left,d=d.clientY-this.boundingRect.top,this.middleXP=(b+(a-b)/2)/this.realWidth,this.middleYP=(c+(d-c)/2)/this.realHeight,this.initialDistance=
Math.sqrt(Math.pow(a-b,2)+Math.pow(d-c,2)))}},stopDrag:function(){this.isDragging=!1},handleReleaseOutside:function(){if(f.isModern){var a=this;a.mouseIsDown=!1;setTimeout(function(){a.resetPinch.call(a)},100);if(!a.preventHover){a.stopDrag();var b=a.zoomControl;b&&b.draggerUp&&b.draggerUp();a.mapWasDragged=!1;var b=a.mapContainer,c=a.mapContainerClickX,d=a.mapContainerClickY;isNaN(c)||isNaN(d)||!(2<Math.abs(b.x-c)||Math.abs(b.y-d))||(a.mapWasDragged=!0,b={type:"dragCompleted",zoomX:a.zoomX(),zoomY:a.zoomY(),
zoomLevel:a.zoomLevel(),chart:a},a.fire(b.type,b));!a.mouseIsOver||a.mapWasDragged||a.skipClick||(b={type:"click",x:a.mouseX,y:a.mouseY,chart:a},a.fire(b.type,b));a.mapContainerClickX=NaN;a.mapContainerClickY=NaN;a.objectWasClicked=!1;a.zoomOnDoubleClick&&a.mouseIsOver&&(b=(new Date).getTime(),200>b-a.previousClickTime&&40<b-a.previousClickTime&&a.doDoubleClickZoom(),a.previousClickTime=b)}}},resetPinch:function(){this.mapWasPinched=!1},handleMouseMove:function(a){var b=this;f.AmMap.base.handleMouseMove.call(b,
a);if(!a||!a.touches||!b.tapToActivate||b.tapped){b.panEventsEnabled&&b.mouseIsOver&&a&&a.preventDefault&&a.preventDefault();var c=b.previuosMouseX,d=b.previuosMouseY,e=b.mouseX,g=b.mouseY,l=b.zoomControl;isNaN(c)&&(c=e);isNaN(d)&&(d=g);b.mouse2X=NaN;b.mouse2Y=NaN;a&&a.touches&&(a=a.touches.item(1))&&b.panEventsEnabled&&b.boundingRect&&(b.mouse2X=a.clientX-b.boundingRect.left,b.mouse2Y=a.clientY-b.boundingRect.top);if(a=b.mapContainer){var h=b.mouse2X,k=b.mouse2Y;b.pinchTO&&clearTimeout(b.pinchTO);
b.pinchTO=setTimeout(function(){b.resetPinch.call(b)},1E3);var n=b.realHeight,p=b.realWidth,x=b.mapWidth,v=b.mapHeight;b.mouseIsDown&&b.dragMap&&(5<Math.abs(b.previuosMouseX-b.mouseX)||5<Math.abs(b.previuosMouseY-b.mouseY))&&(b.isDragging=!0);if(!isNaN(h)){b.stopDrag();var y=Math.sqrt(Math.pow(h-e,2)+Math.pow(k-g,2)),r=b.initialDistance;isNaN(r)&&(r=Math.sqrt(Math.pow(h-e,2)+Math.pow(k-g,2)));if(!isNaN(r)){var h=b.initialTouchZoom*y/r,h=f.fitToBounds(h,l.minZoomLevel,l.maxZoomLevel),l=b.zoomLevel(),
r=b.middleXP,k=b.middleYP,y=n/v,w=p/x,r=(b.zoomX()-r*w)*(h/l)+r*w,k=(b.zoomY()-k*y)*(h/l)+k*y;.1<Math.abs(h-l)&&(b.zoomTo(h,r,k,!0),b.mapWasPinched=!0,clearTimeout(b.pinchTO))}}h=a.scale;b.isDragging&&(b.balloon.hide(0),b.positionChanged(),c=a.x+(e-c),d=a.y+(g-d),b.preventDragOut&&(v=-v*h+n/2,n/=2,c=f.fitToBounds(c,-x*h+p/2,p/2),d=f.fitToBounds(d,v,n)),a.translate(c,d,h,!0),b.updateSmallMap());b.previuosMouseX=e;b.previuosMouseY=g}}},selectObject:function(a){var b=this;a||(a=b.dataProvider);a.isOver=
!1;var c=a.linkToObject;"string"==typeof c&&(c=b.getObjectById(c));a.useTargetsZoomValues&&c&&(a.zoomX=c.zoomX,a.zoomY=c.zoomY,a.zoomLatitude=c.zoomLatitude,a.zoomLongitude=c.zoomLongitude,a.zoomLevel=c.zoomLevel);var d=b.selectedObject;d&&b.returnInitialColor(d);b.selectedObject=a;var e=!1,g,l;"MapArea"==a.objectType&&(a.autoZoomReal&&(e=!0),g=b.areasSettings.selectedOutlineColor,l=b.areasSettings.selectedOutlineThickness);if(c&&!e&&("string"==typeof c&&(c=b.getObjectById(c)),isNaN(a.zoomLevel)&&
isNaN(a.zoomX)&&isNaN(a.zoomY))){if(b.extendMapData(c))return;b.selectObject(c);return}b.allowMultipleDescriptionWindows||b.closeAllDescriptions();clearTimeout(b.selectedObjectTimeOut);clearTimeout(b.processObjectsTimeOut);c=b.zoomDuration;!e&&isNaN(a.zoomLevel)&&isNaN(a.zoomX)&&isNaN(a.zoomY)?(b.showDescriptionAndGetUrl(),b.processObjects()):(b.selectedObjectTimeOut=setTimeout(function(){b.showDescriptionAndGetUrl.call(b)},1E3*c+200),b.showObjectsAfterZoom?b.processObjectsTimeOut=setTimeout(function(){b.processObjects.call(b)},
1E3*c+200):b.processObjects());c=a.displayObject;e=a.selectedColorReal;"MapImage"==a.objectType&&(g=b.imagesSettings.selectedOutlineColor,l=b.imagesSettings.selectedOutlineThickness,c=a.image);if(c){if(f.setCN(b,c,"selected-object"),a.bringForwardOnHover&&c.toFront(),!a.preserveOriginalAttributes){c.setAttr("stroke",a.outlineColorReal);void 0!==e&&c.setAttr("fill",e);void 0!==g&&c.setAttr("stroke",g);void 0!==l&&c.setAttr("stroke-width",l);if("MapLine"==a.objectType){var h=a.lineSvg;h&&h.setAttr("stroke",
e);if(h=a.arrowSvg)h.setAttr("fill",e),h.setAttr("stroke",e)}if(h=a.imageLabel){var k=a.selectedLabelColorReal;void 0!==k&&h.setAttr("fill",k)}a.selectable||(c.setAttr("cursor","default"),h&&h.setAttr("cursor","default"))}}else b.returnInitialColorReal(a);if(c=a.groupId)for(h=b.getGroupById(c),k=0;k<h.length;k++){var n=h[k];n.isOver=!1;c=n.displayObject;"MapImage"==n.objectType&&(c=n.image);if(c){var p=n.selectedColorReal;void 0!==p&&c.setAttr("fill",p);void 0!==g&&c.setAttr("stroke",g);void 0!==
l&&c.setAttr("stroke-width",l);"MapLine"==n.objectType&&((c=n.lineSvg)&&c.setAttr("stroke",e),c=n.arrowSvg)&&(c.setAttr("fill",e),c.setAttr("stroke",e))}}b.zoomToSelectedObject();d!=a&&(a={type:"selectedObjectChanged",chart:b},b.fire(a.type,a))},returnInitialColor:function(a,b){this.returnInitialColorReal(a);b&&(a.isFirst=!1);if(this.selectedObject.bringForwardOnHover){var c=this.selectedObject.displayObject;c&&c.toFront()}if(c=a.groupId){var c=this.getGroupById(c),d;for(d=0;d<c.length;d++)this.returnInitialColorReal(c[d]),
b&&(c[d].isFirst=!1)}},closeAllDescriptions:function(){this.descriptionsDiv.innerHTML=""},returnInitialColorReal:function(a){a.isOver=!1;var b=a.displayObject;if(b){b.toPrevious();if("MapImage"==a.objectType){var c=a.tempScale;isNaN(c)||b.translate(b.x,b.y,c,!0);a.tempScale=NaN;b=a.image}c=a.colorReal;if("MapLine"==a.objectType){var d=a.lineSvg;d&&d.setAttr("stroke",c);if(d=a.arrowSvg)d.setAttr("fill",c),d.setAttr("stroke",c)}var d=a.alphaReal,e=a.outlineAlphaReal,g=a.outlineThicknessReal,f=a.outlineColorReal;
if(a.showAsSelected){var c=a.selectedColorReal,h,k;"MapImage"==a.objectType&&(h=this.imagesSettings.selectedOutlineColor,k=this.imagesSettings.selectedOutlineThickness);"MapArea"==a.objectType&&(h=this.areasSettings.selectedOutlineColor,k=this.areasSettings.selectedOutlineThickness);void 0!==h&&(f=h);void 0!==k&&(g=k)}"bubble"==a.type&&(c=void 0);void 0!==c&&b.setAttr("fill",c);if(h=a.image)h.setAttr("fill",c),h.setAttr("stroke",f),h.setAttr("stroke-width",g),h.setAttr("fill-opacity",d),h.setAttr("stroke-opacity",
e);"MapArea"==a.objectType&&(c=1,this.areasSettings.adjustOutlineThickness&&(c=this.zoomLevel()),b.setAttr("stroke",f),b.setAttr("stroke-width",g/c),b.setAttr("fill-opacity",d),b.setAttr("stroke-opacity",e));(c=a.pattern)&&b.pattern(c,this.mapScale,this.path);(b=a.imageLabel)&&!a.labelInactive&&(a.showAsSelected&&void 0!==a.selectedLabelColor?b.setAttr("fill",a.selectedLabelColor):b.setAttr("fill",a.labelColorReal))}},zoomToRectangle:function(a,b,c,d){var e=this.realWidth,g=this.realHeight,l=this.mapSet.scale,
h=this.zoomControl,e=f.fitToBounds(c/e>d/g?.8*e/(c*l):.8*g/(d*l),h.minZoomLevel,h.maxZoomLevel);this.zoomToMapXY(e,(a+c/2)*l,(b+d/2)*l)},zoomToLatLongRectangle:function(a,b,c,d){var e=this.dataProvider,g=this.zoomControl,l=Math.abs(c-a),h=Math.abs(b-d),k=Math.abs(e.rightLongitude-e.leftLongitude),e=Math.abs(e.topLatitude-e.bottomLatitude),g=f.fitToBounds(l/k>h/e?.8*k/l:.8*e/h,g.minZoomLevel,g.maxZoomLevel);this.zoomToLongLat(g,a+(c-a)/2,d+(b-d)/2)},getGroupById:function(a){var b=[];this.getGroup(this.imagesProcessor.allObjects,
a,b);this.getGroup(this.linesProcessor.allObjects,a,b);this.getGroup(this.areasProcessor.allObjects,a,b);return b},zoomToGroup:function(a){a="object"==typeof a?a:this.getGroupById(a);var b,c,d,e,g;for(g=0;g<a.length;g++){var f=a[g].displayObject;if(f){var h=f.getBBox(),f=h.y,k=h.y+h.height,n=h.x,h=h.x+h.width;if(f<b||isNaN(b))b=f;if(k>e||isNaN(e))e=k;if(n<c||isNaN(c))c=n;if(h>d||isNaN(d))d=h}}a=this.mapSet.getBBox();c-=a.x;d-=a.x;e-=a.y;b-=a.y;this.zoomToRectangle(c,b,d-c,e-b)},getGroup:function(a,
b,c){if(a){var d;for(d=0;d<a.length;d++){var e=a[d];e.groupId==b&&c.push(e)}}},zoomToStageXY:function(a,b,c,d){if(!this.objectWasClicked){var e=this.zoomControl;a=f.fitToBounds(a,e.minZoomLevel,e.maxZoomLevel);e=this.zoomLevel();c=this.coordinateToLatitude((c-this.mapContainer.y)/e);b=this.coordinateToLongitude((b-this.mapContainer.x)/e);this.zoomToLongLat(a,b,c,d)}},zoomToLongLat:function(a,b,c,d){b=this.longitudeToCoordinate(b);c=this.latitudeToCoordinate(c);this.zoomToMapXY(a,b,c,d)},zoomToMapXY:function(a,
b,c,d){var e=this.mapWidth,g=this.mapHeight;this.zoomTo(a,-(b/e)*a+this.realWidth/e/2,-(c/g)*a+this.realHeight/g/2,d)},zoomToObject:function(a){if(a){var b=a.zoomLatitude,c=a.zoomLongitude,d=a.zoomLevel,e=this.zoomInstantly,g=a.zoomX,l=a.zoomY,h=this.realWidth,k=this.realHeight;isNaN(d)||(isNaN(b)||isNaN(c)?this.zoomTo(d,g,l,e):this.zoomToLongLat(d,c,b,e));this.zoomInstantly=!1;"MapImage"==a.objectType&&isNaN(a.zoomX)&&isNaN(a.zoomY)&&isNaN(a.zoomLatitude)&&isNaN(a.zoomLongitude)&&!isNaN(a.latitude)&&
!isNaN(a.longitude)&&this.zoomToLongLat(a.zoomLevel,a.longitude,a.latitude);"MapArea"==a.objectType&&(g=a.displayObject.getBBox(),b=this.mapScale,c=g.x*b,d=g.y*b,e=g.width*b,g=g.height*b,h=a.autoZoomReal&&isNaN(a.zoomLevel)?e/h>g/k?.8*h/e:.8*k/g:a.zoomLevel,k=this.zoomControl,h=f.fitToBounds(h,k.minZoomLevel,k.maxZoomLevel),isNaN(a.zoomX)&&isNaN(a.zoomY)&&isNaN(a.zoomLatitude)&&isNaN(a.zoomLongitude)&&(a=this.mapSet.getBBox(),this.zoomToMapXY(h,-a.x*b+c+e/2,-a.y*b+d+g/2)));this.zoomControl.update()}},
zoomToSelectedObject:function(){this.zoomToObject(this.selectedObject)},zoomTo:function(a,b,c,d){var e=this.zoomControl;a=f.fitToBounds(a,e.minZoomLevel,e.maxZoomLevel);e=this.zoomLevel();isNaN(b)&&(b=this.realWidth/this.mapWidth,b=(this.zoomX()-.5*b)*(a/e)+.5*b);isNaN(c)&&(c=this.realHeight/this.mapHeight,c=(this.zoomY()-.5*c)*(a/e)+.5*c);this.stopAnimation();isNaN(a)||(e=this.mapContainer,this.initialX=e.x,this.initialY=e.y,this.initialScale=e.scale,this.finalX=this.mapWidth*b,this.finalY=this.mapHeight*
c,this.finalScale=a,this.finalX!=this.initialX||this.finalY!=this.initialY||this.finalScale!=this.initialScale?d?(this.tweenPercent=1,this.rescaleMapAndObjects(),this.wheelBusy=!1):this.animateMap():this.wheelBusy=!1)},loadXml:function(a){var b;window.XMLHttpRequest&&(b=new XMLHttpRequest);b.overrideMimeType&&b.overrideMimeType("text/xml");b.open("GET",a,!1);b.send();this.parseXMLObject(b.responseXML);this.svgData&&this.buildEverything()},stopAnimation:function(){this.frame=this.totalFrames},processObjects:function(){var a=
this.container,b=this.stageImagesContainer;b&&b.remove();this.stageImagesContainer=b=a.set();this.trendLinesSet.push(b);var c=this.stageLinesContainer;c&&c.remove();this.stageLinesContainer=c=a.set();this.trendLinesSet.push(c);var d=this.mapImagesContainer;d&&d.remove();this.mapImagesContainer=d=a.set();this.mapContainer.push(d);var e=this.mapLinesContainer;e&&e.remove();this.mapLinesContainer=e=a.set();this.mapContainer.push(e);this.linesAboveImages?(d.toFront(),b.toFront(),e.toFront(),c.toFront()):
(e.toFront(),c.toFront(),d.toFront(),b.toFront());if(a=this.selectedObject)this.imagesProcessor.reset(),this.linesProcessor.reset(),this.linesAboveImages?(this.imagesProcessor.process(a),this.linesProcessor.process(a)):(this.linesProcessor.process(a),this.imagesProcessor.process(a));this.rescaleObjects()},processAreas:function(){this.areasProcessor.process(this.dataProvider)},buildSVGMap:function(){var a=this.svgData.g.path,b=this.container,c=b.set();void 0===a.length&&(a=[a]);var d;for(d=0;d<a.length;d++){var e=
a[d],g=e.d,f=e.title;e.titleTr&&(f=e.titleTr);g=b.path(g);g.id=e.id;if(this.areasSettings.preserveOriginalAttributes){g.customAttr={};for(var h in e)"d"!=h&&"id"!=h&&"title"!=h&&(g.customAttr[h]=e[h])}this.svgAreasById[e.id]={area:g,title:f,className:e["class"]};this.svgAreas.push(g);c.push(g)}this.mapSet=c;this.mapContainer.push(c);this.resizeMap()},addObjectEventListeners:function(a,b){var c=this;a.mouseup(function(a){c.clickMapObject(b,a)}).mouseover(function(a){c.balloonX=NaN;c.rollOverMapObject(b,
!0,a)}).mouseout(function(a){c.balloonX=NaN;c.rollOutMapObject(b,a)}).touchend(function(a){c.tapToActivate&&!c.tapped||c.mapWasDragged||c.mapWasPinched||(c.balloonX=NaN,c.rollOverMapObject(b,!0,a),c.clickMapObject(b,a))}).touchstart(function(a){})},checkIfSelected:function(a){var b=this.selectedObject;if(b==a)return!0;if(b=b.groupId){var b=this.getGroupById(b),c;for(c=0;c<b.length;c++)if(b[c]==a)return!0}return!1},clearMap:function(){this.chartDiv.innerHTML="";this.clearObjectList()},clearObjectList:function(){var a=
this.objectList;a&&a.div&&(a.div.innerHTML="")},checkIfLast:function(a){if(a){var b=a.parentNode;if(b&&b.lastChild==a)return!0}return!1},showAsRolledOver:function(a){var b=a.displayObject;if(!a.showAsSelected&&b&&!a.isOver){b.node.onmouseout=function(){};b.node.onmouseover=function(){};b.node.onclick=function(){};!a.isFirst&&a.bringForwardOnHover&&(b.toFront(),a.isFirst=!0);var c=a.rollOverColorReal,d;a.preserveOriginalAttributes&&(c=void 0);void 0==c&&(isNaN(a.rollOverBrightnessReal)||(c=f.adjustLuminosity(a.colorReal,
a.rollOverBrightnessReal/100)));if(void 0!=c)if("MapImage"==a.objectType)(d=a.image)&&d.setAttr("fill",c);else if("MapLine"==a.objectType){if((d=a.lineSvg)&&d.setAttr("stroke",c),d=a.arrowSvg)d.setAttr("fill",c),d.setAttr("stroke",c)}else b.setAttr("fill",c);(c=a.imageLabel)&&!a.labelInactive&&(d=a.labelRollOverColorReal,void 0!=d&&c.setAttr("fill",d));c=a.rollOverOutlineColorReal;void 0!=c&&("MapImage"==a.objectType?(d=a.image)&&d.setAttr("stroke",c):b.setAttr("stroke",c));"MapImage"==a.objectType?
(c=this.imagesSettings.rollOverOutlineThickness,(d=a.image)&&(isNaN(c)||d.setAttr("stroke-width",c))):(c=this.areasSettings.rollOverOutlineThickness,isNaN(c)||b.setAttr("stroke-width",c));if("MapArea"==a.objectType){c=this.areasSettings;d=a.rollOverAlphaReal;isNaN(d)||b.setAttr("fill-opacity",d);d=c.rollOverOutlineAlpha;isNaN(d)||b.setAttr("stroke-opacity",d);d=1;this.areasSettings.adjustOutlineThickness&&(d=this.zoomLevel());var e=c.rollOverOutlineThickness;isNaN(e)||b.setAttr("stroke-width",e/d);
(c=c.rollOverPattern)&&b.pattern(c,this.mapScale,this.path)}"MapImage"==a.objectType&&(c=a.rollOverScaleReal,isNaN(c)||1==c||(d=b.scale,isNaN(d)&&(d=1),a.tempScale=d,b.translate(b.x,b.y,d*c,!0)));this.useHandCursorOnClickableOjects&&this.checkIfClickable(a)&&b.setAttr("cursor","pointer");this.addObjectEventListeners(b,a);a.isOver=!0}},rollOverMapObject:function(a,b,c){if(this.chartCreated){this.handleMouseMove();var d=this.previouslyHovered;d&&d!=a?(!1===this.checkIfSelected(d)&&(this.returnInitialColor(d,
!0),this.previouslyHovered=null),this.balloon.hide(0)):clearTimeout(this.hoverInt);if(!this.preventHover){if(!1===this.checkIfSelected(a)){if(d=a.groupId){var d=this.getGroupById(d),e;for(e=0;e<d.length;e++)d[e]!=a&&this.showAsRolledOver(d[e])}this.showAsRolledOver(a)}else(d=a.displayObject)&&(this.allowClickOnSelectedObject?d.setAttr("cursor","pointer"):d.setAttr("cursor","default"));this.showDescriptionOnHover?this.showDescription(a):!this.showBalloonOnSelectedObject&&this.checkIfSelected(a)||!1===
b||(e=this.balloon,this.balloon.fixedPosition=!1,b=a.colorReal,d="",void 0!==b&&this.useObjectColorForBalloon||(b=e.fillColor),(e=a.balloonTextReal)&&(d=this.formatString(e,a)),this.balloonLabelFunction&&(d=this.balloonLabelFunction(a,this)),"MapArea"!=a.objectType&&(this.balloonX=NaN),d&&""!==d&&this.showBalloon(d,b,!1,this.balloonX,this.balloonY));c={type:"rollOverMapObject",mapObject:a,chart:this,event:c};this.fire(c.type,c);this.previouslyHovered=a}}},longitudeToX:function(a){return this.longitudeToCoordinate(a)*
this.zoomLevel()+this.mapContainer.x},latitudeToY:function(a){return this.latitudeToCoordinate(a)*this.zoomLevel()+this.mapContainer.y},rollOutMapObject:function(a,b){this.hideBalloon();if(this.chartCreated&&a.isOver){this.checkIfSelected(a)||this.returnInitialColor(a);var c={type:"rollOutMapObject",mapObject:a,chart:this,event:b};this.fire(c.type,c)}},formatString:function(a,b){var c=this.nf,d=this.pf,e=b.title;b.titleTr&&(e=b.titleTr);void 0==e&&(e="");var g=b.value,g=isNaN(g)?"":f.formatNumber(g,
c),c=b.percents,c=isNaN(c)?"":f.formatNumber(c,d),d=b.description;void 0==d&&(d="");var l=b.customData;void 0==l&&(l="");return a=f.massReplace(a,{"[[title]]":e,"[[value]]":g,"[[percent]]":c,"[[description]]":d,"[[customData]]":l})},clickMapObject:function(a,b){var c=this;b&&(b.touches||c.hideBalloon());if(c.chartCreated&&!c.preventHover&&!c.mapWasDragged&&c.checkIfClickable(a)&&!c.mapWasPinched){c.selectObject(a);var d=c.zoomLevel();c.clickLatitude=c.coordinateToLatitude((c.mouseY-c.mapContainer.y)/
d);c.clickLongitude=c.coordinateToLongitude((c.mouseX-c.mapContainer.x)/d);b&&b.touches&&setTimeout(function(){c.showBalloonAfterZoom.call(c)},1E3*c.zoomDuration);d={type:"clickMapObject",mapObject:a,chart:c,event:b};c.fire(d.type,d);c.objectWasClicked=!0}},showBalloonAfterZoom:function(){this.balloonX=this.longitudeToX(this.clickLongitude);this.balloonY=this.latitudeToY(this.clickLatitude);this.rollOverMapObject(this.selectedObject,!0)},checkIfClickable:function(a){var b=this.allowClickOnSelectedObject;
return this.selectedObject==a&&b?!0:this.selectedObject!=a||b?!0===a.selectable||"MapArea"==a.objectType&&a.autoZoomReal||a.url||a.linkToObject||0<a.images.length||0<a.lines.length||!isNaN(a.zoomLevel)||!isNaN(a.zoomX)||!isNaN(a.zoomY)||a.description?!0:!1:!1},resizeMap:function(){var a=this.mapSet;if(a){var b=1,c=a.getBBox(),d=this.realWidth,e=this.realHeight,g=c.width,f=c.height;this.fitMapToContainer&&(b=g/d>f/e?d/g:e/f);a.translate(-c.x*b,-c.y*b,b,!0);this.mapScale=b;this.mapHeight=f*b;this.mapWidth=
g*b}},zoomIn:function(){var a=this.zoomLevel()*this.zoomControl.zoomFactor;this.zoomTo(a)},zoomOut:function(){var a=this.zoomLevel()/this.zoomControl.zoomFactor;this.zoomTo(a)},moveLeft:function(){var a=this.zoomX()+this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),a,this.zoomY())},moveRight:function(){var a=this.zoomX()-this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),a,this.zoomY())},moveUp:function(){var a=this.zoomY()+this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),
this.zoomX(),a)},moveDown:function(){var a=this.zoomY()-this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),this.zoomX(),a)},zoomX:function(){return this.mapSet?Math.round(1E4*this.mapContainer.x/this.mapWidth)/1E4:NaN},zoomY:function(){return this.mapSet?Math.round(1E4*this.mapContainer.y/this.mapHeight)/1E4:NaN},goHome:function(){this.selectObject(this.dataProvider);var a={type:"homeButtonClicked",chart:this};this.fire(a.type,a)},zoomLevel:function(){return Math.round(1E5*this.mapContainer.scale)/
1E5},showDescriptionAndGetUrl:function(){var a=this.selectedObject;if(a){this.showDescription();var b=a.url;if(b)f.getURL(b,a.urlTarget);else if(b=a.linkToObject){if("string"==typeof b){var c=this.getObjectById(b);if(c){this.selectObject(c);return}}b&&a.passZoomValuesToTarget&&(b.zoomLatitude=this.zoomLatitude(),b.zoomLongitude=this.zoomLongitude(),b.zoomLevel=this.zoomLevel());this.extendMapData(b)||this.selectObject(b)}}},extendMapData:function(a){var b=a.objectType;if("MapImage"!=b&&"MapArea"!=
b&&"MapLine"!=b)return f.extend(a,new f.MapData,!0),this.dataProvider=a,this.zoomInstantly=!0,this.validateData(),!0},showDescription:function(a){a||(a=this.selectedObject);this.allowMultipleDescriptionWindows||this.closeAllDescriptions();if(a.description){var b=a.descriptionWindow;b&&b.close();b=new f.DescriptionWindow;a.descriptionWindow=b;var c=a.descriptionWindowWidth,d=a.descriptionWindowHeight,e=a.descriptionWindowLeft,g=a.descriptionWindowTop,l=a.descriptionWindowRight,h=a.descriptionWindowBottom;
isNaN(l)||(e=this.realWidth-l);isNaN(h)||(g=this.realHeight-h);var k=a.descriptionWindowX;isNaN(k)||(e=k);k=a.descriptionWindowY;isNaN(k)||(g=k);isNaN(e)&&(e=this.mouseX,e=e>this.realWidth/2?e-c-20:e+20);isNaN(g)&&(g=this.mouseY);b.maxHeight=d;k=a.title;a.titleTr&&(k=a.titleTr);b.show(this,this.descriptionsDiv,a.description,k);a=b.div.style;a.position="absolute";a.width=c+"px";a.maxHeight=d+"px";isNaN(h)||(g-=b.div.offsetHeight);isNaN(l)||(e-=b.div.offsetWidth);a.left=e+"px";a.top=g+"px"}},parseXMLObject:function(a){var b=
{root:{}};this.parseXMLNode(b,"root",a);this.svgData=b.root.svg;this.getBounds()},getBounds:function(){var a=this.dataProvider;try{var b=this.svgData.defs["amcharts:ammap"];a.leftLongitude=Number(b.leftLongitude);a.rightLongitude=Number(b.rightLongitude);a.topLatitude=Number(b.topLatitude);a.bottomLatitude=Number(b.bottomLatitude);a.projection=b.projection;var c=b.wrappedLongitudes;c&&(a.rightLongitude+=360);a.wrappedLongitudes=c}catch(d){}},recalcLongitude:function(a){var b=this.dataProvider.leftLongitude,
c=this.dataProvider.wrappedLongitudes;return isNaN(a)&&c?a<b?Number(a)+360:a:a},latitudeToCoordinate:function(a){var b,c=this.dataProvider;if(this.mapSet){b=c.topLatitude;var d=c.bottomLatitude;"mercator"==c.projection&&(a=this.mercatorLatitudeToCoordinate(a),b=this.mercatorLatitudeToCoordinate(b),d=this.mercatorLatitudeToCoordinate(d));b=(a-b)/(d-b)*this.mapHeight}return b},longitudeToCoordinate:function(a){a=this.recalcLongitude(a);var b,c=this.dataProvider;this.mapSet&&(b=c.leftLongitude,b=(a-
b)/(c.rightLongitude-b)*this.mapWidth);return b},mercatorLatitudeToCoordinate:function(a){89.5<a&&(a=89.5);-89.5>a&&(a=-89.5);a=f.degreesToRadians(a);a=.5*Math.log((1+Math.sin(a))/(1-Math.sin(a)));return f.radiansToDegrees(a/2)},zoomLatitude:function(){if(this.mapContainer)return this.coordinateToLatitude((-this.mapContainer.y+this.previousHeight/2)/this.zoomLevel())},zoomLongitude:function(){if(this.mapContainer)return this.coordinateToLongitude((-this.mapContainer.x+this.previousWidth/2)/this.zoomLevel())},
getAreaCenterLatitude:function(a){a=a.displayObject.getBBox();var b=this.mapScale;a=-this.mapSet.getBBox().y*b+(a.y+a.height/2)*b;return this.coordinateToLatitude(a)},getAreaCenterLongitude:function(a){a=a.displayObject.getBBox();var b=this.mapScale;a=-this.mapSet.getBBox().x*b+(a.x+a.width/2)*b;return this.coordinateToLongitude(a)},coordinateToLatitude:function(a){var b;if(this.mapSet){var c=this.dataProvider,d=c.bottomLatitude,e=c.topLatitude;b=this.mapHeight;"mercator"==c.projection?(c=this.mercatorLatitudeToCoordinate(d),
e=this.mercatorLatitudeToCoordinate(e),a=2*Math.atan(Math.exp(2*(a*(c-e)/b+e)*Math.PI/180))-.5*Math.PI,b=f.radiansToDegrees(a)):b=a/b*(d-e)+e}return Math.round(1E6*b)/1E6},coordinateToLongitude:function(a){var b,c=this.dataProvider;this.mapSet&&(b=a/this.mapWidth*(c.rightLongitude-c.leftLongitude)+c.leftLongitude);return Math.round(1E6*b)/1E6},milesToPixels:function(a){var b=this.dataProvider;return this.mapWidth/(b.rightLongitude-b.leftLongitude)*a/69.172},kilometersToPixels:function(a){var b=this.dataProvider;
return this.mapWidth/(b.rightLongitude-b.leftLongitude)*a/111.325},handleBackgroundClick:function(){if(this.backgroundZoomsToTop&&!this.mapWasDragged){var a=this.dataProvider;if(this.checkIfClickable(a))this.clickMapObject(a);else{var b=a.zoomX,c=a.zoomY,d=a.zoomLongitude,e=a.zoomLatitude,a=a.zoomLevel;isNaN(b)||isNaN(c)||this.zoomTo(a,b,c);isNaN(d)||isNaN(e)||this.zoomToLongLat(a,d,e,!0)}}},parseXMLNode:function(a,b,c,d){void 0===d&&(d="");var e,g,f;if(c){var h=c.childNodes.length;for(e=0;e<h;e++){g=
c.childNodes[e];var k=g.nodeName,n=g.nodeValue?this.trim(g.nodeValue):"",p=!1;g.attributes&&0<g.attributes.length&&(p=!0);if(0!==g.childNodes.length||""!==n||!1!==p)if(3==g.nodeType||4==g.nodeType){if(""!==n){g=0;for(f in a[b])a[b].hasOwnProperty(f)&&g++;g?a[b]["#text"]=n:a[b]=n}}else if(1==g.nodeType){var x;void 0!==a[b][k]?void 0===a[b][k].length?(x=a[b][k],a[b][k]=[],a[b][k].push(x),a[b][k].push({}),x=a[b][k][1]):"object"==typeof a[b][k]&&(a[b][k].push({}),x=a[b][k][a[b][k].length-1]):(a[b][k]=
{},x=a[b][k]);if(g.attributes&&g.attributes.length)for(n=0;n<g.attributes.length;n++)x[g.attributes[n].name]=g.attributes[n].value;void 0!==a[b][k].length?this.parseXMLNode(a[b][k],a[b][k].length-1,g,d+"  "):this.parseXMLNode(a[b],k,g,d+"  ")}}g=0;c="";for(f in a[b])"#text"==f?c=a[b][f]:g++;0===g&&void 0===a[b].length&&(a[b]=c)}},doDoubleClickZoom:function(){if(!this.mapWasDragged){var a=this.zoomLevel()*this.zoomControl.zoomFactor;this.zoomToStageXY(a,this.mouseX,this.mouseY)}},getDevInfo:function(){var a=
this.zoomLevel(),a={chart:this,type:"writeDevInfo",zoomLevel:a,zoomX:this.zoomX(),zoomY:this.zoomY(),zoomLatitude:this.zoomLatitude(),zoomLongitude:this.zoomLongitude(),latitude:this.coordinateToLatitude((this.mouseY-this.mapContainer.y)/a),longitude:this.coordinateToLongitude((this.mouseX-this.mapContainer.x)/a),left:this.mouseX,top:this.mouseY,right:this.realWidth-this.mouseX,bottom:this.realHeight-this.mouseY,percentLeft:Math.round(this.mouseX/this.realWidth*100)+"%",percentTop:Math.round(this.mouseY/
this.realHeight*100)+"%",percentRight:Math.round((this.realWidth-this.mouseX)/this.realWidth*100)+"%",percentBottom:Math.round((this.realHeight-this.mouseY)/this.realHeight*100)+"%"},b="zoomLevel:"+a.zoomLevel+", zoomLongitude:"+a.zoomLongitude+", zoomLatitude:"+a.zoomLatitude+"\n",b=b+("zoomX:"+a.zoomX+", zoomY:"+a.zoomY+"\n"),b=b+("latitude:"+a.latitude+", longitude:"+a.longitude+"\n"),b=b+("left:"+a.left+", top:"+a.top+"\n"),b=b+("right:"+a.right+", bottom:"+a.bottom+"\n"),b=b+("left:"+a.percentLeft+
", top:"+a.percentTop+"\n"),b=b+("right:"+a.percentRight+", bottom:"+a.percentBottom+"\n");a.str=b;this.fire(a.type,a);return a},getXY:function(a,b,c){void 0!==a&&(-1!=String(a).indexOf("%")?(a=Number(a.split("%").join("")),c&&(a=100-a),a=Number(a)*b/100):c&&(a=b-a));return a},getObjectById:function(a){var b=this.dataProvider;if(b.areas){var c=this.getObject(a,b.areas);if(c)return c}if(c=this.getObject(a,b.images))return c;if(a=this.getObject(a,b.lines))return a},getObject:function(a,b){if(b){var c;
for(c=0;c<b.length;c++){var d=b[c];if(d.id==a)return d;if(d.areas){var e=this.getObject(a,d.areas);if(e)return e}if(e=this.getObject(a,d.images))return e;if(d=this.getObject(a,d.lines))return d}}},parseData:function(){var a=this.dataProvider;this.processObject(a.areas,a,"area");this.processObject(a.images,a,"image");this.processObject(a.lines,a,"line")},processObject:function(a,b,c){if(a){var d;for(d=0;d<a.length;d++){var e=a[d];e.parentObject=b;"area"==c&&f.extend(e,new f.MapArea(this.theme),!0);
"image"==c&&(e=f.extend(e,new f.MapImage(this.theme),!0));"line"==c&&(e=f.extend(e,new f.MapLine(this.theme),!0));a[d]=e;e.areas&&this.processObject(e.areas,e,"area");e.images&&this.processObject(e.images,e,"image");e.lines&&this.processObject(e.lines,e,"line")}}},positionChanged:function(){var a={type:"positionChanged",zoomX:this.zoomX(),zoomY:this.zoomY(),zoomLevel:this.zoomLevel(),chart:this};this.fire(a.type,a)},getX:function(a,b){return this.getXY(a,this.realWidth,b)},getY:function(a,b){return this.getXY(a,
this.realHeight,b)},trim:function(a){if(a){var b;for(b=0;b<a.length;b++)if(-1===" \n\r\t\f\x0B\u00a0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000".indexOf(a.charAt(b))){a=a.substring(b);break}for(b=a.length-1;0<=b;b--)if(-1===" \n\r\t\f\x0B\u00a0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000".indexOf(a.charAt(b))){a=a.substring(0,b+1);break}return-1===" \n\r\t\f\x0B\u00a0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000".indexOf(a.charAt(0))?
a:""}},destroy:function(){f.AmMap.base.destroy.call(this)}})})();(function(){var f=window.AmCharts;f.ZoomControl=f.Class({construct:function(a){this.cname="ZoomControl";this.panStepSize=.1;this.zoomFactor=2;this.maxZoomLevel=64;this.minZoomLevel=1;this.panControlEnabled=!1;this.zoomControlEnabled=!0;this.buttonRollOverColor="#DADADA";this.buttonFillColor="#FFFFFF";this.buttonFillAlpha=1;this.buttonBorderColor="#000000";this.buttonBorderAlpha=.1;this.buttonIconAlpha=this.buttonBorderThickness=1;this.gridColor=this.buttonIconColor="#000000";this.homeIconFile="homeIcon.gif";
this.gridBackgroundColor="#000000";this.draggerAlpha=this.gridAlpha=this.gridBackgroundAlpha=0;this.draggerSize=this.buttonSize=31;this.iconSize=11;this.homeButtonEnabled=!0;this.buttonCornerRadius=2;this.gridHeight=5;this.roundButtons=!0;this.top=this.left=10;f.applyTheme(this,a,this.cname)},init:function(a,b){var c=this;c.chart=a;f.remove(c.set);var d=b.set();f.setCN(a,d,"zoom-control");var e=c.buttonSize,g=c.zoomControlEnabled,l=c.panControlEnabled,h=c.buttonFillColor,k=c.buttonFillAlpha,n=c.buttonBorderThickness,
p=c.buttonBorderColor,x=c.buttonBorderAlpha,v=c.buttonCornerRadius,y=c.buttonRollOverColor,r=c.gridHeight,w=c.zoomFactor,J=c.minZoomLevel,A=c.maxZoomLevel,D=c.buttonIconAlpha,B=c.buttonIconColor,E=c.roundButtons,P=a.svgIcons,q=a.getX(c.left),u=a.getY(c.top);isNaN(c.right)||(q=a.getX(c.right,!0),q=l?q-3*e:q-e);isNaN(c.bottom)||(u=a.getY(c.bottom,!0),g&&(u-=r+3*e),u=l?u-3*e:c.homeButtonEnabled?u-.5*e:u+e);d.translate(q,u);c.previousDY=NaN;var m,q=e/4-1;if(g){m=b.set();f.setCN(a,m,"zoom-control-zoom");
d.push(m);c.set=d;c.zoomSet=m;g=f.rect(b,e+6,r+2*e+6,c.gridBackgroundColor,c.gridBackgroundAlpha,0,0,0,4);f.setCN(a,g,"zoom-bg");g.translate(-3,-3);g.mouseup(function(){c.handleBgUp()}).touchend(function(){c.handleBgUp()});m.push(g);var z=e;E&&(z=e/1.5);c.draggerSize=z;var F=Math.log(A/J)/Math.log(w)+1,g=r/F,t,N=b.set();N.translate((e-z)/2+1,1,NaN,!0);m.push(N);for(t=1;t<F;t++)u=e+t*g,u=f.line(b,[1,z-2],[u,u],c.gridColor,c.gridAlpha,1),f.setCN(a,u,"zoom-grid"),N.push(u);u=new f.SimpleButton;u.setDownHandler(c.draggerDown,
c);u.setClickHandler(c.draggerUp,c);u.init(b,z,g,h,k,n,p,x,v,y);f.setCN(a,u.set,"zoom-dragger");m.push(u.set);u.set.setAttr("opacity",c.draggerAlpha);c.dragger=u.set;c.previousY=NaN;u=new f.SimpleButton;P?(z=b.set(),F=f.line(b,[-q,q],[0,0],B,D,1),t=f.line(b,[0,0],[-q,q],B,D,1),z.push(F),z.push(t),u.svgIcon=z):u.setIcon(a.pathToImages+"plus.gif",c.iconSize);u.setClickHandler(a.zoomIn,a);u.init(b,e,e,h,k,n,p,x,v,y,D,B,E);f.setCN(a,u.set,"zoom-in");m.push(u.set);u=new f.SimpleButton;P?u.svgIcon=f.line(b,
[-q,q],[0,0],B,D,1):u.setIcon(a.pathToImages+"minus.gif",c.iconSize);u.setClickHandler(a.zoomOut,a);u.init(b,e,e,h,k,n,p,x,v,y,D,B,E);u.set.translate(0,r+e);f.setCN(a,u.set,"zoom-out");m.push(u.set);r-=g;J=Math.log(J/100)/Math.log(w);w=Math.log(A/100)/Math.log(w);c.realStepSize=r/(w-J);c.realGridHeight=r;c.stepMax=w}l&&(l=b.set(),f.setCN(a,l,"zoom-control-pan"),d.push(l),m&&m.translate(e,4*e),w=new f.SimpleButton,P?w.svgIcon=f.line(b,[q/5,-q+q/5,q/5],[-q,0,q],B,D,1):w.setIcon(a.pathToImages+"panLeft.gif",
c.iconSize),w.setClickHandler(a.moveLeft,a),w.init(b,e,e,h,k,n,p,x,v,y,D,B,E),w.set.translate(0,e),f.setCN(a,w.set,"pan-left"),l.push(w.set),w=new f.SimpleButton,P?w.svgIcon=f.line(b,[-q/5,q-q/5,-q/5],[-q,0,q],B,D,1):w.setIcon(a.pathToImages+"panRight.gif",c.iconSize),w.setClickHandler(a.moveRight,a),w.init(b,e,e,h,k,n,p,x,v,y,D,B,E),w.set.translate(2*e,e),f.setCN(a,w.set,"pan-right"),l.push(w.set),w=new f.SimpleButton,P?w.svgIcon=f.line(b,[-q,0,q],[q/5,-q+q/5,q/5],B,D,1):w.setIcon(a.pathToImages+
"panUp.gif",c.iconSize),w.setClickHandler(a.moveUp,a),w.init(b,e,e,h,k,n,p,x,v,y,D,B,E),w.set.translate(e,0),f.setCN(a,w.set,"pan-up"),l.push(w.set),w=new f.SimpleButton,P?w.svgIcon=f.line(b,[-q,0,q],[-q/5,q-q/5,-q/5],B,D,1):w.setIcon(a.pathToImages+"panDown.gif",c.iconSize),w.setClickHandler(a.moveDown,a),w.init(b,e,e,h,k,n,p,x,v,y,D,B,E),w.set.translate(e,2*e),f.setCN(a,w.set,"pan-down"),l.push(w.set),d.push(l));c.homeButtonEnabled&&(l=new f.SimpleButton,P?l.svgIcon=f.polygon(b,[-q,0,q,q-1,q-1,
2,2,-2,-2,-q+1,-q+1],[0,-q,0,0,q-1,q-1,2,2,q-1,q-1,0],B,D,1,B,D):l.setIcon(a.pathToImages+c.homeIconFile,c.iconSize),l.setClickHandler(a.goHome,a),c.panControlEnabled&&(x=k=0),l.init(b,e,e,h,k,n,p,x,v,y,D,B,E),c.panControlEnabled?l.set.translate(e,e):m&&m.translate(0,1.5*e),f.setCN(a,l.set,"pan-home"),d.push(l.set));c.update()},draggerDown:function(){this.chart.stopDrag();this.isDragging=!0},draggerUp:function(){this.isDragging=!1},handleBgUp:function(){var a=this.chart,b=100*Math.pow(this.zoomFactor,
this.stepMax-(a.mouseY-this.zoomSet.y-this.set.y-this.buttonSize-this.realStepSize/2)/this.realStepSize);a.zoomTo(b)},update:function(){var a,b=this.zoomFactor,c=this.realStepSize,d=this.stepMax,e=this.dragger,g=this.buttonSize,l=this.chart;l&&(this.isDragging?(l.stopDrag(),a=e.y+(l.mouseY-this.previousY),a=f.fitToBounds(a,g,this.realGridHeight+g),c=100*Math.pow(b,d-(a-g)/c),l.zoomTo(c,NaN,NaN,!0)):(a=Math.log(l.zoomLevel()/100)/Math.log(b),a=(d-a)*c+g),this.previousY=l.mouseY,this.previousDY!=a&&
e&&(e.translate((this.buttonSize-this.draggerSize)/2,a),this.previousDY=a))}})})();(function(){var f=window.AmCharts;f.SimpleButton=f.Class({construct:function(){},init:function(a,b,c,d,e,g,l,h,k,n,p,x,v){var y=this;y.rollOverColor=n;y.color=d;y.container=a;n=a.set();y.set=n;v?(b/=2,d=f.circle(a,b,d,e,g,l,h),d.translate(b,b)):d=f.rect(a,b,c,d,e,g,l,h,k);n.push(d);e=y.iconPath;var r;e&&(r=y.iconSize,g=(b-r)/2,v&&(g=(2*b-r)/2),r=a.image(e,g,(c-r)/2,r,r));y.svgIcon&&(r=y.svgIcon,v?r.translate(b,b):r.translate(b/2,b/2));n.setAttr("cursor","pointer");r&&(n.push(r),r.setAttr("opacity",
p),r.node.style.pointerEvents="none");d.mousedown(function(){y.handleDown()}).touchstart(function(){y.handleDown()}).mouseup(function(){y.handleUp()}).touchend(function(){y.handleUp()}).mouseover(function(){y.handleOver()}).mouseout(function(){y.handleOut()});y.bg=d},setIcon:function(a,b){this.iconPath=a;this.iconSize=b},setClickHandler:function(a,b){this.clickHandler=a;this.scope=b},setDownHandler:function(a,b){this.downHandler=a;this.scope=b},handleUp:function(){var a=this.clickHandler;a&&a.call(this.scope)},
handleDown:function(){var a=this.downHandler;a&&a.call(this.scope)},handleOver:function(){this.container.chart.skipClick=!0;this.bg.setAttr("fill",this.rollOverColor)},handleOut:function(){this.container.chart.skipClick=!1;this.bg.setAttr("fill",this.color)}})})();(function(){var f=window.AmCharts;f.SmallMap=f.Class({construct:function(a){this.cname="SmallMap";this.mapColor="#e6e6e6";this.rectangleColor="#FFFFFF";this.top=this.right=10;this.minimizeButtonWidth=23;this.backgroundColor="#9A9A9A";this.backgroundAlpha=1;this.borderColor="#FFFFFF";this.iconColor="#000000";this.borderThickness=3;this.borderAlpha=1;this.size=.2;this.enabled=!0;f.applyTheme(this,a,this.cname)},init:function(a,b){var c=this;if(c.enabled){c.chart=a;c.container=b;c.width=a.realWidth*
c.size;c.height=a.realHeight*c.size;f.remove(c.set);var d=b.set();c.set=d;f.setCN(a,d,"small-map");var e=b.set();c.allSet=e;d.push(e);c.buildSVGMap();var g=c.borderThickness,l=c.borderColor,h=f.rect(b,c.width+g,c.height+g,c.backgroundColor,c.backgroundAlpha,g,l,c.borderAlpha);f.setCN(a,h,"small-map-bg");h.translate(-g/2,-g/2);e.push(h);h.toBack();var k,n,h=c.minimizeButtonWidth,p=new f.SimpleButton,x=h/2;a.svgIcons?p.svgIcon=f.line(b,[-x/2,0,x/2],[-x/4,x/4,-x/4],c.iconColor,1,1):p.setIcon(a.pathToImages+
"arrowDown.gif",h);p.setClickHandler(c.minimize,c);p.init(b,h,h,l,1,1,l,1);f.setCN(a,p.set,"small-map-down");p=p.set;c.downButtonSet=p;d.push(p);var v=new f.SimpleButton;a.svgIcons?v.svgIcon=f.line(b,[-x/2,0,x/2],[x/4,-x/4,x/4],c.iconColor,1,1):v.setIcon(a.pathToImages+"arrowUp.gif",h);v.setClickHandler(c.maximize,c);v.init(b,h,h,l,1,1,l,1);f.setCN(a,v.set,"small-map-up");l=v.set;c.upButtonSet=l;l.hide();d.push(l);var y,r;isNaN(c.top)||(k=a.getY(c.top)+g,r=0);isNaN(c.bottom)||(k=a.getY(c.bottom,!0)-
c.height-g,r=c.height-h+g/2);isNaN(c.left)||(n=a.getX(c.left)+g,y=-g/2);isNaN(c.right)||(n=a.getX(c.right,!0)-c.width-g,y=c.width-h+g/2);g=b.set();g.clipRect(1,1,c.width,c.height);e.push(g);c.rectangleC=g;d.translate(n,k);p.translate(y,r);l.translate(y,r);e.mouseup(function(){c.handleMouseUp()});c.drawRectangle()}else f.remove(c.allSet),f.remove(c.downButtonSet),f.remove(c.upButtonSet)},minimize:function(){this.downButtonSet.hide();this.upButtonSet.show();this.allSet.hide()},maximize:function(){this.downButtonSet.show();
this.upButtonSet.hide();this.allSet.show()},buildSVGMap:function(){var a=this.chart,b={fill:this.mapColor,stroke:this.mapColor,"stroke-opacity":1},c=a.svgData.g.path,d=this.container,e=d.set();f.setCN(a,e,"small-map-image");var g;for(g=0;g<c.length;g++){var l=d.path(c[g].d).attr(b);e.push(l)}this.allSet.push(e);b=e.getBBox();c=this.size*a.mapScale;d=-b.x*c;g=-b.y*c;var h=l=0;a.centerMap&&(l=(this.width-b.width*c)/2,h=(this.height-b.height*c)/2);this.mapWidth=b.width*c;this.mapHeight=b.height*c;this.dx=
l;this.dy=h;e.translate(d+l,g+h,c)},update:function(){var a=this.chart,b=a.zoomLevel(),c=this.width,d=a.mapContainer,a=c/(a.realWidth*b),c=c/b,b=this.height/b,e=this.rectangle;e.translate(-d.x*a+this.dx,-d.y*a+this.dy);0<c&&0<b&&(e.setAttr("width",Math.ceil(c+1)),e.setAttr("height",Math.ceil(b+1)));this.rWidth=c;this.rHeight=b},drawRectangle:function(){var a=this.rectangle;f.remove(a);a=f.rect(this.container,10,10,"#000",0,1,this.rectangleColor,1);f.setCN(this.chart,a,"small-map-rectangle");this.rectangleC.push(a);
this.rectangle=a},handleMouseUp:function(){var a=this.chart,b=a.zoomLevel();a.zoomTo(b,-((a.mouseX-this.set.x-this.dx-this.rWidth/2)/this.mapWidth)*b,-((a.mouseY-this.set.y-this.dy-this.rHeight/2)/this.mapHeight)*b)}})})();(function(){var f=window.AmCharts;f.AreasProcessor=f.Class({construct:function(a){this.chart=a},process:function(a){this.updateAllAreas();this.allObjects=[];a=a.areas;var b=this.chart,c,d=a.length,e,g;c=0;var l=b.svgAreasById,h=!1,k=!1,n=0;for(e=0;e<d;e++)if(g=a[e],g=g.value,!isNaN(g)){if(!1===h||h<g)h=g;if(!1===k||k>g)k=g;c+=Math.abs(g);n++}isNaN(b.minValue)||(k=b.minValue);isNaN(b.maxValue)||(h=b.maxValue);b.maxValueReal=h;b.minValueReal=k;for(e=0;e<d;e++)g=a[e],isNaN(g.value)?g.percents=void 0:
(g.percents=(g.value-k)/c*100,k==h&&(g.percents=100));for(e=0;e<d;e++){g=a[e];var p=l[g.id];c=b.areasSettings;p&&p.className&&(n=b.areasClasses[p.className])&&(c=n,c=f.processObject(c,f.AreasSettings,b.theme));var x=c.color,v=c.alpha,y=c.outlineThickness,r=c.rollOverColor,w=c.selectedColor,J=c.rollOverAlpha,A=c.rollOverBrightness,D=c.outlineColor,B=c.outlineAlpha,E=c.balloonText,P=c.selectable,q=c.pattern,u=c.rollOverOutlineColor,m=c.bringForwardOnHover,z=c.preserveOriginalAttributes;this.allObjects.push(g);
g.chart=b;g.baseSettings=c;g.autoZoomReal=void 0==g.autoZoom?c.autoZoom:g.autoZoom;n=g.color;void 0==n&&(n=x);var F=g.alpha;isNaN(F)&&(F=v);v=g.rollOverAlpha;isNaN(v)&&(v=J);isNaN(v)&&(v=F);J=g.rollOverColor;void 0==J&&(J=r);r=g.pattern;void 0==r&&(r=q);q=g.selectedColor;void 0==q&&(q=w);(w=g.balloonText)||(w=E);void 0==c.colorSolid||isNaN(g.value)||(E=Math.floor((g.value-k)/((h-k)/b.colorSteps)),E==b.colorSteps&&E--,E*=1/(b.colorSteps-1),h==k&&(E=1),g.colorReal=f.getColorFade(n,c.colorSolid,E));
void 0!=g.color&&(g.colorReal=g.color);void 0==g.selectable&&(g.selectable=P);void 0==g.colorReal&&(g.colorReal=x);x=g.outlineColor;void 0==x&&(x=D);D=g.outlineAlpha;isNaN(D)&&(D=B);B=g.outlineThickness;isNaN(B)&&(B=y);y=g.rollOverOutlineColor;void 0==y&&(y=u);u=g.rollOverBrightness;void 0==u&&(u=A);void 0==g.bringForwardOnHover&&(g.bringForwardOnHover=m);void 0==g.preserveOriginalAttributes&&(g.preserveOriginalAttributes=z);isNaN(c.selectedBrightness)||(q=f.adjustLuminosity(g.colorReal,c.selectedBrightness/
100));g.alphaReal=F;g.rollOverColorReal=J;g.rollOverAlphaReal=v;g.balloonTextReal=w;g.selectedColorReal=q;g.outlineColorReal=x;g.outlineAlphaReal=D;g.rollOverOutlineColorReal=y;g.outlineThicknessReal=B;g.patternReal=r;g.rollOverBrightnessReal=u;f.processDescriptionWindow(c,g);if(p&&(A=p.area,m=p.title,g.enTitle=p.title,m&&!g.title&&(g.title=m),(p=b.language)?(m=f.mapTranslations)&&(p=m[p])&&p[g.enTitle]&&(g.titleTr=p[g.enTitle]):g.titleTr=void 0,A)){g.displayObject=A;g.mouseEnabled&&b.addObjectEventListeners(A,
g);var t;void 0!=n&&(t=n);void 0!=g.colorReal&&(t=g.showAsSelected||b.selectedObject==g?g.selectedColorReal:g.colorReal);A.node.setAttribute("class","");f.setCN(b,A,"map-area");f.setCN(b,A,"map-area-"+A.id);c.adjustOutlineThickness&&(B/=b.zoomLevel());g.preserveOriginalAttributes||(A.setAttr("fill",t),A.setAttr("stroke",x),A.setAttr("stroke-opacity",D),A.setAttr("stroke-width",B),A.setAttr("fill-opacity",F));r&&A.pattern(r,b.mapScale,b.path);g.hidden&&A.hide()}}},updateAllAreas:function(){var a=this.chart,
b=a.areasSettings,c=b.unlistedAreasColor,d=b.unlistedAreasAlpha,e=b.unlistedAreasOutlineColor,g=b.unlistedAreasOutlineAlpha,l=a.svgAreas,h=a.dataProvider,k=h.areas,n={},p;for(p=0;p<k.length;p++)n[k[p].id]=k[p];for(p=0;p<l.length;p++){k=l[p];if(b.preserveOriginalAttributes){if(k.customAttr)for(var x in k.customAttr)k.setAttr(x,k.customAttr[x])}else{void 0!=c&&k.setAttr("fill",c);isNaN(d)||k.setAttr("fill-opacity",d);void 0!=e&&k.setAttr("stroke",e);isNaN(g)||k.setAttr("stroke-opacity",g);var v=b.outlineThickness;
b.adjustOutlineThickness&&(v/=a.zoomLevel());k.setAttr("stroke-width",v)}f.setCN(a,k,"map-area-unlisted");h.getAreasFromMap&&!n[k.id]&&(v=new f.MapArea(a.theme),v.parentObject=h,v.id=k.id,h.areas.push(v))}}})})();(function(){var f=window.AmCharts;f.AreasSettings=f.Class({construct:function(a){this.cname="AreasSettings";this.alpha=1;this.autoZoom=!1;this.balloonText="[[title]]";this.color="#FFCC00";this.colorSolid="#990000";this.unlistedAreasAlpha=1;this.unlistedAreasColor="#DDDDDD";this.outlineColor="#FFFFFF";this.outlineThickness=this.outlineAlpha=1;this.selectedColor=this.rollOverOutlineColor="#CC0000";this.unlistedAreasOutlineColor="#FFFFFF";this.unlistedAreasOutlineAlpha=1;this.descriptionWindowWidth=
250;this.bringForwardOnHover=this.adjustOutlineThickness=!0;f.applyTheme(this,a,this.cname)}})})();(function(){var f=window.AmCharts;f.ImagesProcessor=f.Class({construct:function(a){this.chart=a;this.reset()},process:function(a){var b=a.images,c;for(c=0;c<b.length;c++)this.createImage(b[c],c);a.parentObject&&a.remainVisible&&this.process(a.parentObject)},createImage:function(a,b){var c=this.chart,d=c.container,e=c.mapImagesContainer,g=c.stageImagesContainer,l=c.imagesSettings;a.remove&&a.remove();var h=l.color,k=l.alpha,n=l.rollOverColor,p=l.rollOverOutlineColor,x=l.selectedColor,v=l.balloonText,
y=l.outlineColor,r=l.outlineAlpha,w=l.outlineThickness,J=l.selectedScale,A=l.rollOverScale,D=l.labelPosition,B=l.labelColor,E=l.labelFontSize,P=l.bringForwardOnHover,q=l.labelRollOverColor,u=l.rollOverBrightness,m=l.selectedLabelColor;a.index=b;a.chart=c;a.baseSettings=c.imagesSettings;var z=d.set();a.displayObject=z;var F=a.color;void 0==F&&(F=h);h=a.alpha;isNaN(h)&&(h=k);void 0==a.bringForwardOnHover&&(a.bringForwardOnHover=P);k=a.outlineAlpha;isNaN(k)&&(k=r);r=a.rollOverColor;void 0==r&&(r=n);
n=a.selectedColor;void 0==n&&(n=x);(x=a.balloonText)||(x=v);v=a.outlineColor;void 0==v&&(v=y);a.outlineColorReal=v;y=a.outlineThickness;isNaN(y)&&(y=w);(w=a.labelPosition)||(w=D);D=a.labelColor;void 0==D&&(D=B);B=a.labelRollOverColor;void 0==B&&(B=q);q=a.selectedLabelColor;void 0==q&&(q=m);m=a.labelFontSize;isNaN(m)&&(m=E);E=a.selectedScale;isNaN(E)&&(E=J);J=a.rollOverScale;isNaN(J)&&(J=A);A=a.rollOverBrightness;void 0==A&&(A=u);isNaN(l.selectedBrightness)||(n=f.adjustLuminosity(a.colorReal,l.selectedBrightness/
100));a.colorReal=F;a.alphaReal=h;a.rollOverColorReal=r;a.balloonTextReal=x;a.selectedColorReal=n;a.labelColorReal=D;a.labelRollOverColorReal=B;a.selectedLabelColorReal=q;a.labelFontSizeReal=m;a.labelPositionReal=w;a.selectedScaleReal=E;a.rollOverScaleReal=J;a.rollOverOutlineColorReal=p;a.rollOverBrightnessReal=A;f.processDescriptionWindow(l,a);a.centeredReal=void 0==a.centered?l.centered:a.centered;A=a.type;J=a.imageURL;E=a.svgPath;m=a.width;r=a.height;p=a.scale;isNaN(a.percentWidth)||(m=a.percentWidth/
100*c.realWidth);isNaN(a.percentHeight)||(r=a.percentHeight/100*c.realHeight);var t;J||A||E||(A="circle",m=1,k=h=0);q=u=0;l=a.selectedColorReal;if(A){isNaN(m)&&(m=10);isNaN(r)&&(r=10);"kilometers"==a.widthAndHeightUnits&&(m=c.kilometersToPixels(a.width),r=c.kilometersToPixels(a.height));"miles"==a.widthAndHeightUnits&&(m=c.milesToPixels(a.width),r=c.milesToPixels(a.height));if("circle"==A||"bubble"==A)r=m;t=this.createPredefinedImage(F,v,y,A,m,r);q=u=0;a.centeredReal?(isNaN(a.right)||(u=m*p),isNaN(a.bottom)||
(q=r*p)):(u=m*p/2,q=r*p/2);t.translate(u,q,p,!0)}else J?(isNaN(m)&&(m=10),isNaN(r)&&(r=10),t=d.image(J,0,0,m,r),t.node.setAttribute("preserveAspectRatio","none"),t.setAttr("opacity",h),a.centeredReal&&(u=isNaN(a.right)?-m/2:m/2,q=isNaN(a.bottom)?-r/2:r/2,t.translate(u,q,NaN,!0))):E&&(t=d.path(E),v=t.getBBox(),a.centeredReal?(u=-v.x*p-v.width*p/2,isNaN(a.right)||(u=-u),q=-v.y*p-v.height*p/2,isNaN(a.bottom)||(q=-q)):u=q=0,t.translate(u,q,p,!0),t.x=u,t.y=q);t&&(z.push(t),a.image=t,t.setAttr("stroke-opacity",
k),t.setAttr("fill-opacity",h),t.setAttr("fill",F),f.setCN(c,t,"map-image"),void 0!=a.id&&f.setCN(c,t,"map-image-"+a.id));F=a.labelColorReal;!a.showAsSelected&&c.selectedObject!=a||void 0==l||(t.setAttr("fill",l),F=a.selectedLabelColorReal);t=null;void 0!==a.label&&(t=f.text(d,a.label,F,c.fontFamily,a.labelFontSizeReal,a.labelAlign),f.setCN(c,t,"map-image-label"),void 0!==a.id&&f.setCN(c,t,"map-image-label-"+a.id),F=a.labelBackgroundAlpha,(h=a.labelBackgroundColor)&&0<F&&(k=t.getBBox(),d=f.rect(d,
k.width+16,k.height+10,h,F),f.setCN(c,d,"map-image-label-background"),void 0!=a.id&&f.setCN(c,d,"map-image-label-background-"+a.id),z.push(d),a.labelBG=d),a.imageLabel=t,z.push(t),f.setCN(c,z,"map-image-container"),void 0!=a.id&&f.setCN(c,z,"map-image-container-"+a.id));isNaN(a.latitude)||isNaN(a.longitude)?g.push(z):e.push(z);z&&(z.rotation=a.rotation,isNaN(a.rotation)||z.rotate(a.rotation));this.updateSizeAndPosition(a);a.mouseEnabled&&c.addObjectEventListeners(z,a);a.hidden&&z.hide()},updateSizeAndPosition:function(a){var b=
this.chart,c=a.displayObject,d=b.getX(a.left),e=b.getY(a.top),g=a.image.getBBox();isNaN(a.right)||(d=b.getX(a.right,!0)-g.width*a.scale);isNaN(a.bottom)||(e=b.getY(a.bottom,!0)-g.height*a.scale);var f=a.longitude,h=a.latitude,g=this.objectsToResize;this.allSvgObjects.push(c);this.allObjects.push(a);var k=a.imageLabel;if(!isNaN(d)&&!isNaN(e))c.translate(d,e,NaN,!0);else if(!isNaN(h)&&!isNaN(f))if(d=b.longitudeToCoordinate(f),e=b.latitudeToCoordinate(h),c.translate(d,e,NaN,!0),a.fixedSize){d=1;if(a.showAsSelected||
b.selectedObject==a)d=a.selectedScaleReal;g.push({image:c,scale:d})}else k&&this.labelsToReposition.push(a);this.positionLabel(k,a,a.labelPositionReal)},positionLabel:function(a,b,c){if(a){var d=b.image,e=0,g=0,f=0,h=0;d&&(h=d.getBBox(),g=d.y,e=d.x,f=h.width,h=h.height,b.svgPath&&(f*=b.scale,h*=b.scale));var d=a.getBBox(),k=d.width,n=d.height;"right"==c&&(e+=f+k/2+5,g+=h/2-2);"left"==c&&(e+=-k/2-5,g+=h/2-2);"top"==c&&(g-=n/2+3,e+=f/2);"bottom"==c&&(g+=h+n/2,e+=f/2);"middle"==c&&(e+=f/2,g+=h/2);a.translate(e+
b.labelShiftX,g+b.labelShiftY,NaN,!0);b.labelBG&&b.labelBG.translate(e-d.width/2+b.labelShiftX-9,g+b.labelShiftY-d.height/2-3,NaN,!0)}},createPredefinedImage:function(a,b,c,d,e,g){var l=this.chart.container,h;switch(d){case "circle":h=f.circle(l,e/2,a,1,c,b,1);break;case "rectangle":h=f.polygon(l,[-e/2,e/2,e/2,-e/2],[g/2,g/2,-g/2,-g/2],a,1,c,b,1);break;case "bubble":h=f.circle(l,e/2,a,1,c,b,1,!0);break;case "hexagon":e/=Math.sqrt(3),h=f.polygon(l,[.866*e,0*e,-.866*e,-.866*e,0*e,.866*e],[.5*e,1*e,
.5*e,-.5*e,-1*e,-.5*e],a,1,c,b,1)}return h},reset:function(){this.objectsToResize=[];this.allSvgObjects=[];this.allObjects=[];this.allLabels=[];this.labelsToReposition=[]}})})();(function(){var f=window.AmCharts;f.ImagesSettings=f.Class({construct:function(a){this.cname="ImagesSettings";this.balloonText="[[title]]";this.alpha=1;this.borderAlpha=0;this.borderThickness=1;this.labelPosition="right";this.labelColor="#000000";this.labelFontSize=11;this.color="#000000";this.labelRollOverColor="#00CC00";this.centered=!0;this.rollOverScale=this.selectedScale=1;this.descriptionWindowWidth=250;this.bringForwardOnHover=!0;this.outlineColor="transparent";f.applyTheme(this,a,this.cname)}})})();(function(){var f=window.AmCharts;f.LinesProcessor=f.Class({construct:function(a){this.chart=a;this.reset()},process:function(a){var b=a.lines,c=this.chart,d=c.linesSettings,e=this.objectsToResize,g=c.mapLinesContainer,l=c.stageLinesContainer,h=d.thickness,k=d.dashLength,n=d.arrow,p=d.arrowSize,x=d.arrowColor,v=d.arrowAlpha,y=d.color,r=d.alpha,w=d.rollOverColor,J=d.selectedColor,A=d.rollOverAlpha,D=d.balloonText,B=d.bringForwardOnHover,E=d.arc,P=d.rollOverBrightness,q=c.container,u;for(u=0;u<b.length;u++){var m=
b[u];m.chart=c;m.baseSettings=d;var z=q.set();m.displayObject=z;this.allSvgObjects.push(z);this.allObjects.push(m);m.mouseEnabled&&c.addObjectEventListeners(z,m);if(m.remainVisible||c.selectedObject==m.parentObject){var F=m.thickness;isNaN(F)&&(F=h);var t=m.dashLength;isNaN(t)&&(t=k);var N=m.color;void 0==N&&(N=y);var C=m.alpha;isNaN(C)&&(C=r);var U=m.rollOverAlpha;isNaN(U)&&(U=A);isNaN(U)&&(U=C);var H=m.rollOverColor;void 0==H&&(H=w);var Z=m.selectedColor;void 0==Z&&(Z=J);var K=m.balloonText;K||
(K=D);var R=m.arc;isNaN(R)&&(R=E);var M=m.arrow;if(!M||"none"==M&&"none"!=n)M=n;var W=m.arrowColor;void 0==W&&(W=x);void 0==W&&(W=N);var X=m.arrowAlpha;isNaN(X)&&(X=v);isNaN(X)&&(X=C);var S=m.arrowSize;isNaN(S)&&(S=p);var I=m.rollOverBrightness;void 0==I&&(I=P);isNaN(d.selectedBrightness)||(Z=f.adjustLuminosity(m.colorReal,d.selectedBrightness/100));m.alphaReal=C;m.colorReal=N;m.rollOverColorReal=H;m.rollOverAlphaReal=U;m.balloonTextReal=K;m.selectedColorReal=Z;m.thicknessReal=F;m.rollOverBrightnessReal=
I;void 0==m.bringForwardOnHover&&(m.bringForwardOnHover=B);f.processDescriptionWindow(d,m);var H=this.processCoordinates(m.x,c.realWidth),K=this.processCoordinates(m.y,c.realHeight),I=m.longitudes,U=m.latitudes,O=I.length,L;if(0<O)for(H=[],L=0;L<O;L++)H.push(c.longitudeToCoordinate(I[L]));O=U.length;if(0<O)for(K=[],L=0;L<O;L++)K.push(c.latitudeToCoordinate(U[L]));if(0<H.length){f.dx=0;f.dy=0;var Q,ba,Y;L=10*(1-Math.abs(R));10<=L&&(L=NaN);1>L&&(L=1);if(isNaN(L))I=f.line(q,H,K,N,1,F,t,!1,!1,!0),N=f.line(q,
H,K,N,.001,3,t,!1,!1,!0);else{O=1;0>R&&(O=0);I={stroke:N,"stroke-opacity":1,"stroke-width":F,"fill-opacity":0};void 0!==t&&0<t&&(I["stroke-dasharray"]=t);var t=H[0],aa=H[1],ca=K[0],da=K[1];ba=Math.sqrt(Math.pow(aa-t,2)+Math.pow(da-ca,2));Y=ba/2*L;Q=270+180*Math.acos(ba/2/Y)/Math.PI;isNaN(Q)&&(Q=270);t<aa&&(L=t,t=aa,aa=L,L=ca,ca=da,da=L,Q=-Q);0<R&&(Q=-Q);t="M"+t+","+ca+"A"+Y+","+Y+",0,0,"+O+","+aa+","+da;I=q.path(t).attr(I);N=q.path(t).attr({stroke:N,"stroke-width":3,"stroke-opacity":.001,fill:"none"})}f.setCN(c,
I,"map-line");void 0!=m.id&&f.setCN(c,I,"map-line-"+m.id);f.dx=.5;f.dy=.5;z.push(I);z.push(N);I.setAttr("opacity",C);if("none"!=M){var G,T,V;if("end"==M||"both"==M)C=H[H.length-1],O=K[K.length-1],1<H.length?(t=H[H.length-2],G=K[K.length-2]):(t=C,G=O),G=180*Math.atan((O-G)/(C-t))/Math.PI,isNaN(Q)||(G+=Q),T=C,V=O,G=0>C-t?G-90:G+90;"both"==M&&(C=f.polygon(q,[-S/2,0,S/2],[1.5*S,0,1.5*S],W,X,1,W,X),z.push(C),C.translate(T,V,1,!0),C.rotate(G),f.setCN(c,I,"map-line-arrow"),void 0!=m.id&&f.setCN(c,I,"map-line-arrow-"+
m.id),m.fixedSize&&e.push(C));if("start"==M||"both"==M)C=H[0],V=K[0],1<H.length?(t=H[1],T=K[1]):(t=C,T=V),G=180*Math.atan((V-T)/(C-t))/Math.PI,isNaN(Q)||(G-=Q),T=C,G=0>C-t?G-90:G+90;"middle"==M&&(C=H[H.length-1],O=K[K.length-1],1<H.length?(t=H[H.length-2],G=K[K.length-2]):(t=C,G=O),T=t+(C-t)/2,V=G+(O-G)/2,G=180*Math.atan((O-G)/(C-t))/Math.PI,isNaN(Q)||(M=ba/2,M=Y-Math.sqrt(Y*Y-M*M),0>R&&(M=-M),R=Math.sin(G/180*Math.PI),-1==R&&(R=1),T-=R*M,V+=Math.cos(G/180*Math.PI)*M),G=0>C-t?G-90:G+90);C=f.polygon(q,
[-S/2,0,S/2],[1.5*S,0,1.5*S],W,X,1,W,X);f.setCN(c,I,"map-line-arrow");void 0!=m.id&&f.setCN(c,I,"map-line-arrow-"+m.id);z.push(C);C.translate(T,V,1,!0);C.rotate(G);m.fixedSize&&e.push(C);m.arrowSvg=C}m.fixedSize&&I&&(this.linesToResize.push({line:I,thickness:F}),this.linesToResize.push({line:N,thickness:3}));m.lineSvg=I;m.showAsSelected&&!isNaN(Z)&&I.setAttr("stroke",Z);0<U.length?g.push(z):l.push(z);m.hidden&&z.hide()}}}a.parentObject&&a.remainVisible&&this.process(a.parentObject)},processCoordinates:function(a,
b){var c=[],d;for(d=0;d<a.length;d++){var e=a[d],g=Number(e);isNaN(g)&&(g=Number(e.replace("%",""))*b/100);isNaN(g)||c.push(g)}return c},reset:function(){this.objectsToResize=[];this.allSvgObjects=[];this.allObjects=[];this.linesToResize=[]}})})();(function(){var f=window.AmCharts;f.LinesSettings=f.Class({construct:function(a){this.cname="LinesSettings";this.balloonText="[[title]]";this.thickness=1;this.dashLength=0;this.arrowSize=10;this.arrowAlpha=1;this.arrow="none";this.color="#990000";this.descriptionWindowWidth=250;this.bringForwardOnHover=!0;f.applyTheme(this,a,this.cname)}})})();(function(){var f=window.AmCharts;f.MapObject=f.Class({construct:function(a){this.fixedSize=this.mouseEnabled=!0;this.images=[];this.lines=[];this.areas=[];this.remainVisible=!0;this.passZoomValuesToTarget=!1;this.objectType=this.cname;f.applyTheme(this,a,"MapObject")}})})();(function(f){f=window.AmCharts;f.MapArea=f.Class({inherits:f.MapObject,construct:function(a){this.cname="MapArea";f.MapArea.base.construct.call(this,a);f.applyTheme(this,a,this.cname)}})})();(function(){var f=window.AmCharts;f.MapLine=f.Class({inherits:f.MapObject,construct:function(a){this.cname="MapLine";this.longitudes=[];this.latitudes=[];this.x=[];this.y=[];this.arrow="none";f.MapLine.base.construct.call(this,a);f.applyTheme(this,a,this.cname)}})})();(function(){var f=window.AmCharts;f.MapImage=f.Class({inherits:f.MapObject,construct:function(a){this.cname="MapImage";this.scale=1;this.widthAndHeightUnits="pixels";this.labelShiftY=this.labelShiftX=0;f.MapImage.base.construct.call(this,a);f.applyTheme(this,a,this.cname)},remove:function(){var a=this.displayObject;a&&a.remove();(a=this.imageLabel)&&a.remove()}})})();(function(){var f=window.AmCharts;f.degreesToRadians=function(a){return a/180*Math.PI};f.radiansToDegrees=function(a){return a/Math.PI*180};f.getColorFade=function(a,b,c){var d=f.hex2RGB(b);b=d[0];var e=d[1],d=d[2],g=f.hex2RGB(a);a=g[0];var l=g[1],g=g[2];a+=Math.round((b-a)*c);l+=Math.round((e-l)*c);g+=Math.round((d-g)*c);return"rgb("+a+","+l+","+g+")"};f.hex2RGB=function(a){return[parseInt(a.substring(1,3),16),parseInt(a.substring(3,5),16),parseInt(a.substring(5,7),16)]};f.processDescriptionWindow=
function(a,b){isNaN(b.descriptionWindowX)&&(b.descriptionWindowX=a.descriptionWindowX);isNaN(b.descriptionWindowY)&&(b.descriptionWindowY=a.descriptionWindowY);isNaN(b.descriptionWindowLeft)&&(b.descriptionWindowLeft=a.descriptionWindowLeft);isNaN(b.descriptionWindowRight)&&(b.descriptionWindowRight=a.descriptionWindowRight);isNaN(b.descriptionWindowTop)&&(b.descriptionWindowTop=a.descriptionWindowTop);isNaN(b.descriptionWindowBottom)&&(b.descriptionWindowBottom=a.descriptionWindowBottom);isNaN(b.descriptionWindowWidth)&&
(b.descriptionWindowWidth=a.descriptionWindowWidth);isNaN(b.descriptionWindowHeight)&&(b.descriptionWindowHeight=a.descriptionWindowHeight)}})();(function(){var f=window.AmCharts;f.MapData=f.Class({inherits:f.MapObject,construct:function(){this.cname="MapData";f.MapData.base.construct.call(this);this.projection="mercator";this.topLatitude=90;this.bottomLatitude=-90;this.leftLongitude=-180;this.rightLongitude=180;this.zoomLevel=1;this.getAreasFromMap=!1}})})();(function(){var f=window.AmCharts;f.DescriptionWindow=f.Class({construct:function(){},show:function(a,b,c,d){var e=this,g=document.createElement("div");g.style.position="absolute";var f=a.classNamePrefix+"-description-";g.className="ammapDescriptionWindow "+f+"div";e.div=g;b.appendChild(g);var h=".gif";a.svgIcons&&(h=".svg");var k=document.createElement("img");k.className="ammapDescriptionWindowCloseButton "+f+"close-img";k.src=a.pathToImages+"xIcon"+h;k.style.cssFloat="right";k.style.cursor="pointer";
k.onclick=function(){e.close()};k.onmouseover=function(){k.src=a.pathToImages+"xIconH"+h};k.onmouseout=function(){k.src=a.pathToImages+"xIcon"+h};g.appendChild(k);b=document.createElement("div");b.className="ammapDescriptionTitle "+f+"title-div";b.onmousedown=function(){e.div.style.zIndex=1E3};g.appendChild(b);d=document.createTextNode(d);b.appendChild(d);d=b.offsetHeight;b=document.createElement("div");b.className="ammapDescriptionText "+f+"text-div";b.style.maxHeight=e.maxHeight-d-20+"px";g.appendChild(b);
b.innerHTML=c},close:function(){try{this.div.parentNode.removeChild(this.div)}catch(a){}}})})();(function(){var f=window.AmCharts;f.ValueLegend=f.Class({construct:function(a){this.cname="ValueLegend";this.enabled=!0;this.showAsGradient=!1;this.minValue=0;this.height=12;this.width=200;this.bottom=this.left=10;this.borderColor="#FFFFFF";this.borderAlpha=this.borderThickness=1;this.color="#000000";this.fontSize=11;f.applyTheme(this,a,this.cname)},init:function(a,b){if(this.enabled){var c=a.areasSettings.color,d=a.areasSettings.colorSolid,e=a.colorSteps;f.remove(this.set);var g=b.set();this.set=
g;f.setCN(a,g,"value-legend");var l=0,h=this.minValue,k=this.fontSize,n=a.fontFamily,p=this.color;void 0==h&&(h=a.minValueReal);void 0!==h&&(l=f.text(b,h,p,n,k,"left"),l.translate(0,k/2-1),f.setCN(a,l,"value-legend-min-label"),g.push(l),l=l.getBBox().height);h=this.maxValue;void 0===h&&(h=a.maxValueReal);void 0!==h&&(l=f.text(b,h,p,n,k,"right"),l.translate(this.width,k/2-1),f.setCN(a,l,"value-legend-max-label"),g.push(l),l=l.getBBox().height);if(this.showAsGradient)c=f.rect(b,this.width,this.height,
[c,d],1,this.borderThickness,this.borderColor,1,0,0),f.setCN(a,c,"value-legend-gradient"),c.translate(0,l),g.push(c);else for(k=this.width/e,n=0;n<e;n++)p=f.getColorFade(c,d,1*n/(e-1)),p=f.rect(b,k,this.height,p,1,this.borderThickness,this.borderColor,1),f.setCN(a,p,"value-legend-color"),f.setCN(a,p,"value-legend-color-"+n),p.translate(k*n,l),g.push(p);d=c=0;e=g.getBBox();l=a.getY(this.bottom,!0);k=a.getY(this.top);n=a.getX(this.right,!0);p=a.getX(this.left);isNaN(k)||(c=k);isNaN(l)||(c=l-e.height);
isNaN(p)||(d=p);isNaN(n)||(d=n-e.width);g.translate(d,c)}else f.remove(this.set)}})})();(function(){var f=window.AmCharts;f.ObjectList=f.Class({construct:function(a){this.divId=a},init:function(a){this.chart=a;var b=this.divId;this.container&&(b=this.container);this.div="object"!=typeof b?document.getElementById(b):b;b=document.createElement("div");b.className="ammapObjectList "+a.classNamePrefix+"-object-list-div";this.div.appendChild(b);this.addObjects(a.dataProvider,b)},addObjects:function(a,b){var c=this.chart,d=document.createElement("ul");d.className=c.classNamePrefix+"-object-list-ul";
var e;if(a.areas)for(e=0;e<a.areas.length;e++){var g=a.areas[e];void 0===g.showInList&&(g.showInList=c.showAreasInList);this.addObject(g,d)}if(a.images)for(e=0;e<a.images.length;e++)g=a.images[e],void 0===g.showInList&&(g.showInList=c.showImagesInList),this.addObject(g,d);if(a.lines)for(e=0;e<a.lines.length;e++)g=a.lines[e],void 0===g.showInList&&(g.showInList=c.showLinesInList),this.addObject(g,d);0<d.childNodes.length&&b.appendChild(d)},addObject:function(a,b){var c=this;if(a.showInList&&void 0!==
a.title){var d=c.chart,e=document.createElement("li");e.className=d.classNamePrefix+"-object-list-li";var g=document.createTextNode(a.title),f=document.createElement("a");f.className=d.classNamePrefix+"-object-list-a";f.appendChild(g);e.appendChild(f);b.appendChild(e);this.addObjects(a,e);f.onmouseover=function(){c.chart.rollOverMapObject(a,!1)};f.onmouseout=function(){c.chart.rollOutMapObject(a)};f.onclick=function(){c.chart.clickMapObject(a)}}}})})();